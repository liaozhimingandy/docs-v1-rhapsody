<!doctype html>
<html>
 <head> 
  <title>Adding a Definition to a Route</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="stylesheet" href="styles/icons.css" type="text/css">
  <script src="js/jquery.min.js"></script>
  <script src="tree/collapsibleTreeMenu.js"></script>
  <link href="tree/collapsibleTreeMenu.css" rel="stylesheet" type="text/css">
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs">  
       <li> <span><a href="Rhapsody-Integration-Engine-6.5_133160975.html">Rhapsody Integration Engine 6.5</a></span> </li> 
       <li> <span><a href="Developing-Rhapsody_133161055.html">Developing Rhapsody</a></span> </li> 
       <li> <span><a href="Rhapsody-Objects_133161790.html">Rhapsody Objects</a></span> </li> 
       <li> <span><a href="File-Manager_133163394.html">File Manager</a></span> </li> 
       <li> <span><a href="Working-with-Message-Definitions_133163426.html">Working with Message Definitions</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text">Adding a Definition to a Route</span> </h1> 
    </div> 
    <div id="content" class="view">  
     <div id="main-content" class="wiki-content group"> 
      <p>A message definition is associated with a route so that Rhapsody will 'know' the structure of the messages it is processing.</p>
      <p>To add a definition to the route:</p>
      <ol>
       <li>Right-click on the route name from the workspace and select the&nbsp;<strong>Route Properties</strong>&nbsp;command from the context menu.</li>
       <li>The&nbsp;<strong>Route Properties</strong>&nbsp;screen is displayed. Select the&nbsp;<strong>Add Definition</strong>&nbsp;button to add a message definition to the route.</li>
       <li><p>The&nbsp;<strong>Select a message definition</strong>&nbsp;dialog is displayed. Select the message definition you want to add to the route and then select the&nbsp;<strong>OK</strong>&nbsp;button.&nbsp;Note that you can only select definitions that are in the same locker as the route.&nbsp;The definition is added to the route and displayed as a tab on the&nbsp;<strong style="letter-spacing: 0.0px;">Route Properties</strong>&nbsp;dialog:</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="680" src="attachments/133163429/133163430.png" data-image-src="attachments/133163429/133163430.png" data-unresolved-comment-count="0" data-linked-resource-id="133163430" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="AddDeftoRoute.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163429" data-linked-resource-container-version="4"></span></p></li>
      </ol>
      <div class="confluence-information-macro confluence-information-macro-note">
       <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        <p>More than one message definition can be added to the route.</p>
       </div>
      </div>
      <h2 id="AddingaDefinitiontoaRoute-ConfiguringtheRouteDefinition">Configuring the Route Definition</h2>
      <p>Once Rhapsody 'knows' the structure of the message it is processing, one or more locations within that message can be identified and given a name. Rhapsody can then be configured to selectively route messages based on the value in that location.</p>
      <p>To configure the Route Definition:</p>
      <ol>
       <li>Select the&nbsp;<strong>Add</strong>&nbsp;button and enter a message property name in the&nbsp;<strong>Property Name</strong>&nbsp;field; there are no restrictions on the text that can be used, however try to be brief and descriptive.</li>
       <li><p>In the&nbsp;<strong>Messages</strong>&nbsp;field, select the&nbsp;<strong>Browse</strong>&nbsp;button. The&nbsp;<strong>Message Selection Dialog</strong>&nbsp;is displayed:</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="415" src="attachments/133163429/133163431.png" data-image-src="attachments/133163429/133163431.png" data-unresolved-comment-count="0" data-linked-resource-id="133163431" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="MessageSelection.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163429" data-linked-resource-container-version="4"></span></p></li>
       <li>Select the checkbox next to the message type on which you want to route messages and then select the&nbsp;<strong>OK</strong>&nbsp;button.</li>
       <li><p>In the Field Paths field, select the&nbsp;<strong>Browse</strong>&nbsp;button. The&nbsp;<strong>Field Selection Dialog</strong>&nbsp;is displayed.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="415" src="attachments/133163429/133163432.png" data-image-src="attachments/133163429/133163432.png" data-unresolved-comment-count="0" data-linked-resource-id="133163432" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="FieldSelection.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163429" data-linked-resource-container-version="4"></span></p></li>
       <li>Select the checkbox next to the message field on which you want to route messages and then select the&nbsp;<strong>OK</strong>&nbsp;button.</li>
       <li><p>The property is displayed in the definition file and can be used to route messages (for example, using a conditional connector):</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="680" src="attachments/133163429/133163433.png" data-image-src="attachments/133163429/133163433.png" data-unresolved-comment-count="0" data-linked-resource-id="133163433" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="DefinitionProperty.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163429" data-linked-resource-container-version="4"></span></p></li>
       <li><p>Select the&nbsp;<strong>Index</strong>&nbsp;checkbox if you want this message property to be indexed. This should be done if you need to perform message searches based on the content of this property, obviating the need for a full message meta search across all messages.</p>
        <div class="confluence-information-macro confluence-information-macro-note">
         <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
         <div class="confluence-information-macro-body">
          <p>In order to prevent unnecessary processing and disk utilization by the message property indexing logic, ensure indexing is restricted solely to fields that are required to be indexed for fast lookups on message searches.</p>
         </div>
        </div></li>
      </ol>
      <p> </p>
      <p><br></p> 
     </div>  
    </div> 
   </div>  
  </div>   
 </body>
</html>