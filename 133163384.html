<!doctype html>
<html>
 <head> 
  <title>Configuration (Filters)</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="stylesheet" href="styles/icons.css" type="text/css">
  <script src="js/jquery.min.js"></script>
  <script src="tree/collapsibleTreeMenu.js"></script>
  <link href="tree/collapsibleTreeMenu.css" rel="stylesheet" type="text/css">
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs">  
       <li> <span><a href="Rhapsody-Integration-Engine-6.5_133160975.html">Rhapsody Integration Engine 6.5</a></span> </li> 
       <li> <span><a href="Developing-Rhapsody_133161055.html">Developing Rhapsody</a></span> </li> 
       <li> <span><a href="Rhapsody-Objects_133161790.html">Rhapsody Objects</a></span> </li> 
       <li> <span><a href="Rhapsody-Components_133161994.html">Rhapsody Components</a></span> </li> 
       <li> <span><a href="Filters_133162681.html">Filters</a></span> </li> 
       <li> <span><a href="Configuring-Filters_133163379.html">Configuring Filters</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text">Configuration (Filters)</span> </h1> 
    </div> 
    <div id="content" class="view">  
     <div id="main-content" class="wiki-content group"> 
      <p>A filter's <strong>Configuration</strong> tab lists configuration properties specific to that filter:</p>
      <p><style type="text/css">/*<![CDATA[*/
div.rbtoc1565146963558 {padding: 0px;}
div.rbtoc1565146963558 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1565146963558 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p>
      <div class="toc-macro rbtoc1565146963558"> 
       <ul class="toc-indentation"> 
        <li><a href="#Configuration(Filters)-ConfigurationProperties">Configuration Properties</a> 
         <ul class="toc-indentation"> 
          <li><a href="#Configuration(Filters)-SettingConfigurationProperties">Setting Configuration Properties</a></li> 
          <li><a href="#Configuration(Filters)-InternalIDsforConfigurationProperties">Internal IDs for Configuration Properties</a></li> 
         </ul> </li> 
       </ul> 
      </div>
      <p></p>
      <p>For details on the options available on the configuration tab for a particular filter, refer to the documentation for that specific filter. Note that required properties are marked with an asterisk, and a short description of a selected property is displayed in the panel at the bottom of the dialog:</p>
      <p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133163384/133163385.png" data-image-src="attachments/133163384/133163385.png" data-unresolved-comment-count="0" data-linked-resource-id="133163385" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="ContentPop-Config.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163384" data-linked-resource-container-version="1"></span></p>
      <p>&nbsp;</p>
      <div class="confluence-information-macro confluence-information-macro-information">
       <span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        <p>To determine the value of a configuration property that is set to a Rhapsody variable, you can hover over the variable to display a tooltip with its value.</p>
       </div>
      </div>
      <p></p>
      <h2 id="Configuration(Filters)-ConfigurationProperties">Configuration Properties</h2>
      <h3 id="Configuration(Filters)-SettingConfigurationProperties">Setting Configuration Properties</h3>
      <p>There are three ways to set a configuration property that does not offer pre-configured settings, using literals, message properties or Rhapsody variables:</p>
      <ol>
       <li>Enter the relevant value directly into the&nbsp;<strong>Value</strong>&nbsp;field.</li>
       <li><p>Select from one of the communication point's published message properties from the drop-down list, or&nbsp;enter <span>into the&nbsp;</span><strong>Value</strong><span>&nbsp;field </span>a message property that is either route extracted or created, using the&nbsp;<code>$propertyName</code>&nbsp;notation.&nbsp;For example, if the&nbsp;<code>&lt;Patient Name&gt;</code>&nbsp;and&nbsp;<code>&lt;Patient Gender&gt;</code>&nbsp;properties have been identified as Message Definition properties on the route's&nbsp;<strong>Properties</strong>&nbsp;window, then these fields can be selected for the filename. Refer to&nbsp;<a href="Message-Properties_133164574.html">Message Properties</a>&nbsp;for details on configuring components with message properties.</p>
        <div class="confluence-information-macro confluence-information-macro-note">
         <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
         <div class="confluence-information-macro-body">
          <p>Most configuration properties that can be set using literal values can also accept message properties using the <code>$propertyName</code><span>&nbsp;notation. There are, however, exceptions. Therefore it is recommended you <a href="Testing-Filter-Configurations_133162685.html">test your routes</a> to ensure expected behavior.</span></p>
         </div>
        </div></li>
       <li><p>Search and select from a list of available Rhapsody variables by launching the&nbsp;<strong>Select Rhapsody Variable</strong>&nbsp;dialog (refer to&nbsp;<a href="-Variables_133163434.html">Rhapsody Variables</a>&nbsp;for details on how to manage Rhapsody variables):</p><p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133162170/133162172.png" data-image-src="attachments/133162170/133162172.png" data-unresolved-comment-count="0" data-linked-resource-id="133162172" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="SelectRhapsodyVariable.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133162170" data-linked-resource-container-version="1"></span></p></li>
      </ol>
      <h3 id="Configuration(Filters)-InternalIDsforConfigurationProperties">Internal IDs for Configuration Properties</h3>
      <p>To obtain the internal IDs for configuration properties relevant to your configuration:</p>
      <ol>
       <li>Save your configuration to an RLC file (create a backup of the file if you wish).</li>
       <li>Change the RLC file's extension to&nbsp;<code>.zip</code>.&nbsp;</li>
       <li>Unzip the Zip file and open the XML file contained therein.&nbsp;</li>
       <li><p>The XML file contains the internal IDs for configuration properties, for example:</p>
        <div class="code panel pdl" style="border-width: 1px;">
         <div class="codeContent panelContent pdl"> 
          <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: xml; gutter: false; theme: Confluence" data-theme="Confluence">&lt;Property&gt;
  &lt;Name&gt;LOCALPORT&lt;/Name&gt;
  &lt;Value&gt;$(TCP_Blocking_Port)&lt;/Value&gt;
  &lt;Type&gt;ptInteger&lt;/Type&gt;
&lt;/Property&gt;</pre> 
         </div>
        </div></li>
      </ol>
      <p></p>
      <p><span class="confluence-anchor-link" id="Configuration(Filters)-MaximumConcurrency"></span><span style="color: rgb(0,0,0);font-size: 20.0px;">Maximum Concurrency</span></p>
      <p>A number of filters include a configuration property called <strong>Maximum Concurrency</strong>. This property is a numerical value that specifies the maximum level of concurrency for this filter; that is, how many instances of the filter are created and used in parallel. A value of <code>0</code> (which is the default value) means that there is no limit. In general, limiting the level of concurrency limits the memory used by the filter and can increase the efficiency of message processing by the Rhapsody engine.</p>
      <p>An example of when the maximum concurrency value should be changed from its default value is when a route includes the Mapper filter that involves a complex mapping between two message structures. Changing the concurrency value to 2 or 3 means that the filter can only process two or three messages simultaneously but will not monopolize system memory in the way it would if the filter attempted to process an unlimited number of simultaneous messages.</p>
      <p>It can also be used to limit the concurrency of database updates. If a database filter is suffering from deadlock contention errors from the database, dropping the concurrency will limit the number of concurrent transactions, reducing the chance of a deadlock. The database lookup filter does attempt to retry deadlocked transactions, but that may not catch everything.</p>
      <p>When the filter's maximum concurrency is configured, route execution threads may enter the waiting state when the current number of concurrent access reaches the maximum. To prevent threads waiting on the concurrency limit indefinitely, route execution threads time out if the waiting period exceeds the maximum allowed waiting period. The default maximum waiting period is <span>30</span>&nbsp;seconds. The timeout period, however, can be configured in <code><span>rhapsody.properties</span></code>&nbsp;file:</p>
      <div class="table-wrap">
       <table class="confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh"><p>Parameter Name</p></th>
          <th class="confluenceTh"><p>Description</p></th>
          <th class="confluenceTh"><p>Default</p></th>
         </tr>
         <tr>
          <td class="confluenceTd"><p>ModelService.concurrencyFilterTimeoutSeconds</p></td>
          <td class="confluenceTd"><p>Timed out period of concurrency based filters, minimum value 1 second, maximum value 86400 seconds (24 hours).</p></td>
          <td class="confluenceTd"><p><code>30</code></p></td>
         </tr>
        </tbody>
       </table>
      </div>
      <p> </p> 
     </div>  
    </div> 
   </div>  
  </div>   
 </body>
</html>