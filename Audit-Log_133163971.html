<!doctype html>
<html>
 <head> 
  <title>Audit Log</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="stylesheet" href="styles/icons.css" type="text/css">
  <script src="js/jquery.min.js"></script>
  <script src="tree/collapsibleTreeMenu.js"></script>
  <link href="tree/collapsibleTreeMenu.css" rel="stylesheet" type="text/css">
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs">  
       <li> <span><a href="Rhapsody-Integration-Engine-6.5_133160975.html">Rhapsody Integration Engine 6.5</a></span> </li> 
       <li> <span><a href="Monitoring-Rhapsody_133163664.html">Monitoring Rhapsody</a></span> </li> 
       <li> <span><a href="Management-Console_133163667.html">Management Console</a></span> </li> 
       <li> <span><a href="System-State_133163948.html">System State</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text">Audit Log</span> </h1> 
    </div> 
    <div id="content" class="view">  
     <div id="main-content" class="wiki-content group"> 
      <p></p>
      <div class="table-wrap">
       <table id="TBL1565043148560" class="confluenceTable" bordercolor="#ffcc66" bgcolor="#ffffcc">
        <tbody>
         <tr>
          <td class="confluenceTd"><em>Menu Path</em> : <strong>System State&gt;Audit Log</strong></td>
         </tr>
         <tr>
          <td class="confluenceTd"><em>Read</em> <em><a href="Access-Rights_133161013.html">Access Rights</a></em><em>:</em>
           <ul>
            <li>Log in to Management Console</li>
            <li>View audit logs</li>
           </ul></td>
         </tr>
        </tbody> 
        <script type="text/javascript">

$("table[id='TBL1565043148560']").data("appfire-table","true");
(new org_swift_TableSorter()).customTable('TBL1565043148560',[],'',
1,'lightgoldenrodyellow',false,
'Click to sort','',false,
false,false,true,
0,false,'',true,
'',false,false,'','','','',
true,'',
''
);

</script> 
       </table>
      </div>
      <br>The 
      <strong>Audit Log</strong> enables administrators to view all audit events between a specified time period or for a specific user.
      <p></p>
      <div class="confluence-information-macro confluence-information-macro-note">
       <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        Only users with administrative privileges can view the audit logs. It is assumed that if you have permission to view the audit logs, you also have permission to export the audit logs.
       </div>
      </div>
      <p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image confluence-content-image-border" src="attachments/133163971/133163972.png" data-image-src="attachments/133163971/133163972.png" data-unresolved-comment-count="0" data-linked-resource-id="133163972" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="audit_log.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163971" data-linked-resource-container-version="1"></span></p>
      <h2 id="AuditLog-SearchingAuditLogs">Searching Audit Logs</h2>
      <p>To search audit logs:</p>
      <ol>
       <li><p>Using the following search filters, search through the audit logs:</p>
        <div class="table-wrap">
         <table class="confluenceTable">
          <tbody>
           <tr>
            <th class="confluenceTh"><p>Field</p></th>
            <th class="confluenceTh"><p>Description</p></th>
           </tr>
           <tr>
            <td class="confluenceTd"><p>From</p></td>
            <td class="confluenceTd"><p>The date and time criteria to start the search from.</p></td>
           </tr>
           <tr>
            <td class="confluenceTd"><p>To</p></td>
            <td class="confluenceTd"><p>The date and time criteria to end the search at.</p></td>
           </tr>
           <tr>
            <td class="confluenceTd"><p>Log Level</p></td>
            <td class="confluenceTd"><p>The log level you want displayed. The available options are: <code>Off</code>, <code>Fatal</code>, <code>Error</code>, <code>Warn</code>, <code>Info</code>, <code>Debug</code>, <code>Trace</code> and <code>All</code>.</p></td>
           </tr>
           <tr>
            <td class="confluenceTd"><p>Number of results</p></td>
            <td class="confluenceTd"><p>The number of log entries you want displayed on a page.</p></td>
           </tr>
           <tr>
            <td class="confluenceTd"><p>Person</p></td>
            <td class="confluenceTd"><p><span>To view the log details for a specific user:</span></p>
             <ul>
              <li>Enter the first few letters of the user's name <span>in the field</span>, and then select a user from the drop-down list.</li>
              <li>Select the <strong>Users</strong> icon <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133163971/133163974.png" data-image-src="attachments/133163971/133163974.png" data-unresolved-comment-count="0" data-linked-resource-id="133163974" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="person-selector.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163971" data-linked-resource-container-version="1"></span> and select a user from the <strong>Select User</strong> dialog to view audit logs for that user.</li>
             </ul></td>
           </tr>
           <tr>
            <td colspan="1" class="confluenceTd">Action</td>
            <td colspan="1" class="confluenceTd"><p>The type of action performed:</p>
             <ul>
              <li><code>Message Creation</code></li>
              <li><code>Message Deletion</code></li>
              <li><code>Message Modified</code></li>
              <li><code>Search Query</code></li>
              <li><code>Message View</code></li>
              <li><code>Message Export</code></li>
              <li><code>User Privilege Change</code></li>
              <li><code>Configuration Change</code></li>
              <li><code>Administration Change</code></li>
             </ul></td>
           </tr>
           <tr>
            <td colspan="1" class="confluenceTd">Message Id</td>
            <td colspan="1" class="confluenceTd"><p>The message identifier of the message the action was performed on.</p></td>
           </tr>
          </tbody>
         </table>
        </div></li>
       <li>Select the&nbsp;<strong>Search</strong>&nbsp;button to initiate a search.</li>
      </ol>
      <h2 id="AuditLog-ExportingAuditLogs">Exporting Audit Logs</h2>
      <p>To export audit logs:</p>
      <ol>
       <li><p>Click the <strong>Export Logs</strong> link to display the <strong>Export Logs</strong> dialog:</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-content-image-border" height="205" width="524" src="attachments/133163971/133163973.png" data-image-src="attachments/133163971/133163973.png" data-unresolved-comment-count="0" data-linked-resource-id="133163973" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="exportlogssys.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133163971" data-linked-resource-container-version="1"></span></p></li>
       <li>Specify the <strong>From</strong> and <strong>To</strong> dates and times, select a <strong>Locale</strong> from the drop-down list, and select the <strong>Export</strong> button.</li>
      </ol>
      <h2 id="AuditLog-AuditLogTamperingDetection">Audit Log Tampering Detection</h2>
      <p>An&nbsp;audit&nbsp;log tampering detection feature provides protection against malicious users attempting to edit the audit logs to hide their actions. If the audit log files on disk (located at&nbsp;<code>&lt;installationDirectory&gt;/rhapsody/data/logs/audit</code>) are modified by anything other than Rhapsody, this is reported as tampering in the system log, for example:</p>
      <div class="code panel pdl" style="border-width: 1px;">
       <div class="codeContent panelContent pdl"> 
        <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: text; gutter: false; theme: Confluence" data-theme="Confluence">02 May 2018 11:46:02,689 | 31455       [WARN ] {Session-/127.0.0.1:49717} 
(com.orchestral.rhapsody.admin.commands.usermanagement.ChangeUsersAndGroupsAdapter) The audit log has been tampered with.</pre> 
       </div>
      </div>
      <p>Audit&nbsp;log tamper detection&nbsp;is disabled by default. It can be enabled through the <code>rhapsody.properties</code>&nbsp;file by setting the following property and restarting the engine:</p>
      <div class="table-wrap">
       <table class="confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td class="confluenceTd"><pre>LoggingService.auditLogTamperDetectionPeriod</pre></td>
          <td class="confluenceTd"><p>Specifies the period <span>in hours</span> which determines how often to run audit log tamper detection. It must have an integer value (otherwise the engine will not restart).</p><p><span>Audit log tamper detection</span> is disabled if the property is:</p>
           <ul>
            <li>Not present in the&nbsp;<code>rhapsody.properties</code>&nbsp;file, or commented out.</li>
            <li>Set to zero or a negative number.</li>
           </ul></td>
         </tr>
        </tbody>
       </table>
      </div>
      <p> </p> 
     </div>  
    </div> 
   </div>  
  </div>   
 </body>
</html>