<!doctype html>
<html>
 <head> 
  <title>Connection Details</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="stylesheet" href="styles/icons.css" type="text/css">
  <script src="js/jquery.min.js"></script>
  <script src="tree/collapsibleTreeMenu.js"></script>
  <link href="tree/collapsibleTreeMenu.css" rel="stylesheet" type="text/css">
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs">  
       <li> <span><a href="Rhapsody-Integration-Engine-6.5_133160975.html">Rhapsody Integration Engine 6.5</a></span> </li> 
       <li> <span><a href="Developing-Rhapsody_133161055.html">Developing Rhapsody</a></span> </li> 
       <li> <span><a href="Rhapsody-Objects_133161790.html">Rhapsody Objects</a></span> </li> 
       <li> <span><a href="Rhapsody-Components_133161994.html">Rhapsody Components</a></span> </li> 
       <li> <span><a href="Communication-Points_133162164.html">Communication Points</a></span> </li> 
       <li> <span><a href="Communication-Point-Types_133162205.html">Communication Point Types</a></span> </li> 
       <li> <span><a href="133162373.html">(S)FTP Client</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text">Connection Details</span> </h1> 
    </div> 
    <div id="content" class="view">  
     <div id="main-content" class="wiki-content group"> 
      <p>The following configuration properties determine how the communication point connects to servers and authenticates connections:</p>
      <p><style type="text/css">/*<![CDATA[*/
div.rbtoc1565146950027 {padding: 0px;}
div.rbtoc1565146950027 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1565146950027 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style></p>
      <div class="toc-macro rbtoc1565146950027"> 
       <ul class="toc-indentation"> 
        <li><a href="#ConnectionDetails-Server">Server</a></li> 
        <li><a href="#ConnectionDetails-Port">Port</a></li> 
        <li><a href="#ConnectionDetails-ReadTimeout">Read Timeout</a></li> 
        <li><a href="#ConnectionDetails-ConnectionMode">Connection Mode</a></li> 
        <li><a href="#ConnectionDetails-TransferMode">Transfer Mode</a></li> 
        <li><a href="#ConnectionDetails-ServerValidationMode">Server Validation Mode</a></li> 
        <li><a href="#ConnectionDetails-SSLServerCertificates">SSL Server Certificates</a></li> 
        <li><a href="#ConnectionDetails-HostnameValidation">Hostname Validation</a></li> 
        <li><a href="#ConnectionDetails-CipherSuites">Cipher Suites</a></li> 
        <li><a href="#ConnectionDetails-SSLClientPrivateKey">SSL Client Private Key</a></li> 
        <li><a href="#ConnectionDetails-SFTPServerPublicKey">SFTP Server Public Key</a></li> 
        <li><a href="#ConnectionDetails-SFTPClientAuthenticationMode">SFTP Client Authentication Mode</a></li> 
        <li><a href="#ConnectionDetails-SFTPClientPrivateKey">SFTP Client Private Key</a></li> 
        <li><a href="#ConnectionDetails-SFTPCompression">SFTP Compression</a></li> 
        <li><a href="#ConnectionDetails-SFTPAdvancedConfigurationFlags">SFTP Advanced Configuration Flags</a></li> 
        <li><a href="#ConnectionDetails-ServerLineEndings">Server Line Endings</a></li> 
        <li><a href="#ConnectionDetails-Username">Username</a></li> 
        <li><a href="#ConnectionDetails-Password">Password</a></li> 
        <li><a href="#ConnectionDetails-ConnectionEstablishmentMode">Connection Establishment Mode</a></li> 
       </ul> 
      </div>
      <p></p>
      <h2 id="ConnectionDetails-Server">Server</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTP, FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><strong>Server</strong> is the name or IP address of the server to connect to.</p>
      <h2 id="ConnectionDetails-Port">Port</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTP, FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><strong>Port</strong> is the port on the remote machine to connect to. To use the default port for the selected protocol, set this property to <code>0</code> (zero).</p>
      <h2 id="ConnectionDetails-ReadTimeout">Read Timeout</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTP, FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><strong>Read Timeout </strong>specifies the length of time in milliseconds that Rhapsody waits for a response from the FTP server.</p>
      <p>For SFTP, it is also treated as an idle timeout. The internal connection to the SFTP server is closed if there is no activity for the specified period. However, the internal connection is automatically re-established as soon as it is needed again.</p>
      <div class="confluence-information-macro confluence-information-macro-note">
       <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        <p>When running in <em>Input</em>-only mode, the <strong>Read Timeout</strong> and Refresh Rate cannot be configured to be within five seconds of each other. If this is the case, then the <strong>Read Timeout</strong> is automatically adjusted so that it is five seconds longer than the <strong>Refresh Rate</strong>. If the properties have the same value, a race condition is introduced whereby the connection times out just as the refresh rate indicates that polling for messages is required. This would result in spurious connection failures on the communication point - the failures would be re-tried but would incorrectly indicate that an error had occurred.</p>
       </div>
      </div>
      <h2 id="ConnectionDetails-ConnectionMode">Connection Mode</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTP, FTPS.</li>
        </ul> 
       </div>
      </div>
      <p><strong>Connection Mode</strong> specifies whether to use active or passive mode for data connections.</p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td class="confluenceTd"><p><code>ACTIVE<sup>†</sup></code></p></td>
          <td class="confluenceTd">the remote server opens a data connection back to the communication point in order to transfer files.</td>
         </tr>
         <tr>
          <td class="confluenceTd"><p><code>PASSIVE</code></p></td>
          <td class="confluenceTd">the communication point establishes the data connection to the remote server.</td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup>† Default option.</sup></p>
      <h2 id="ConnectionDetails-TransferMode">Transfer Mode</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><span><strong>Transfer Mode</strong> indicates what data format to transfer the file.<br></span></p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td class="confluenceTd"><p><span><code>Binary</code></span><code><sup>†</sup></code></p></td>
          <td class="confluenceTd">Transfer the file as binary data.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code><span>ASCII </span></code></td>
          <td colspan="1" class="confluenceTd">Transfer the file as <span>ASCII</span> data. <span>ASCII transfer changes the line endings of text files to match the OS of the remote server. This makes it unsuitable for any binary file types.</span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code>EBCDIC</code></td>
          <td colspan="1" class="confluenceTd">Transfer the file as EBCDIC data. Internally this uses a binary connection to process most commands, but explicitly switches to EBCDIC to send or receive files, and back to binary once the send or receive is finished.</td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup><span>† Default option.</span></sup></p>
      <div class="confluence-information-macro confluence-information-macro-note">
       <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        <ul>
         <li>EBCDIC should only be enabled when connecting to a server that requires EBCDIC support.</li>
         <li>EBCDIC cannot be used with SFTP.</li>
        </ul>
       </div>
      </div>
      <h2 id="ConnectionDetails-ServerValidationMode"><span style="color: rgb(0,0,0);">Server Validation Mode</span></h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p>The <strong>Server Validation Mode</strong> is used to determine how the (S)FTP Client communication point finds the SSL certificates or SSH public keys for server validation. Server validation is the process where the (S)FTP Client communication point verifies that it is talking to the FTPS / SFTP server that it thinks that it is talking to. This validation process either as part of the connection process (for FTPS implicit mode and SFTP) or shortly afterward (for FTPS explicit mode), but in all cases it is done prior to logging in. For FTPS, server validation is done using SSL certificates; for SFTP, it is done using SSH public keys.</p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <colgroup>
         <col>
         <col>
        </colgroup>
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td class="confluenceTd"><code>Use Preconfigured Keys (Recommended)<sup><span>†</span></sup></code></td>
          <td class="confluenceTd">The SSL certificates and SSH public keys used to validate the remote server must be explicitly configured on the (S)FTP Client communication point. For the static configuration mode or when using configuration templates, the communication point will fail to configure if the appropriate certificates or keys are not provided. For dynamic configuration using message properties, the outgoing message will be sent to the error queue if the certificates or keys are not provided.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code>Allow Dynamic Key Lookups</code></td>
          <td colspan="1" class="confluenceTd"><p>The SSL certificates and SSH public keys can be looked up dynamically in the Rhapsody certificate and key store by the (S)FTP Client communication point as it performs the connection to the FTPS or SFTP server. These certificates and keys do not need to be explicitly configured on the (S)FTP Client communication point, however, they do need to already be present in the Rhapsody certificate and key store with the correct alias. <span style="line-height: 13.0pt;">For SSL certificates, this alias is in the format of <code>hostname:port</code> (for example, <code>sample-ftps-server:990</code>). For SSH public keys, this alias is in the format of <code>hostname:port:algorithm</code> (for example, <code>sample-sftp-server:22:ssh-rsa</code> or <code>sample-sftp-server:22:ssh-dss</code>).</span></p><p><span style="line-height: 13.0pt;">If a dynamic lookup is performed, then the connection will succeed if the dynamic lookup finds exactly the same SSL certificate or SSH public key that has been presented by the FTPS or SFTP server. The connection will fail to be established if either no SSL certificate or SSH public key is found with the required alias, or if the wrong SSL certificate or SSH public key. In addition, dynamic lookups for SSL certificates will fail if the SSL certificate has expired or fails hostname validation (although hostname validation can be disabled with a separate option).</span></p><p><span style="line-height: 13.0pt;">It is possible to enable the dynamic key lookups option and also statically configure SSL certificates or SSH public keys. If this is done then the statically configured certificates and keys are checked first, before any dynamic lookups are performed.</span></p></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code>Auto-Add Keys For New Servers</code></td>
          <td colspan="1" class="confluenceTd">
           <div class="content-wrapper">
            <p>The SSL certificates and SSH public keys can be looked up dynamically in the Rhapsody certificate and key store as with the previous option. In addition, if no entry is found with the required alias, the (S)FTP Client communication point will automatically add the SSL certificate or SSH public key presented by the FTPS or SFTP server. This allows the (S)FTP Client communication point to automatically trust an FTPS or SFTP server that it has never seen previously. If the (S)FTP Client communication points adds a new SSL certificate or SSH public key in this manner, it will alias them using the naming convention described above so that subsequent lookups will find the same SSL certificate or SSH public key.</p>
            <p>SSL certificates and SSH public keys will not be automatically added to the Rhapsody certificate and key store if there is already a different certificate or key present using the required alias, and will reject the connection if that occurs. In addition, SSL certificates will not be added to the Rhapsody certificate and key store if the SSL certificate has expired or if the hostname validation check fails (although hostname validation can be disabled with a separate option).</p>
            <p>It is possible to enable the auto-add certificates and keys option and also statically configure SSL certificates or SSH public keys. If this is done then the statically configured certificates and keys are checked first, before any dynamic lookups or automatic adding of certificates or keys is performed.</p>
            <div class="confluence-information-macro confluence-information-macro-warning">
             <p class="title">Warning - Potentially Insecure</p>
             <span class="aui-icon aui-icon-small aui-iconfont-error confluence-information-macro-icon"></span>
             <div class="confluence-information-macro-body">
              <p>Enabling this option is potentially dangerous as it means that no server validation is performed when the connection is established for the first time and so is subject to a man-in-the-middle attack. Consequently, it should never be enabled on an untrusted network or when performing an FTPS or SFTP connection over the internet. It is always preferable to explicitly configure the SSL certificates and SSH public keys used for server validation to ensure that the connection is secure.</p>
              <p>To prevent this option from being accidentally enabled, it is not available until the following line is added to the <code>rhapsody.properties</code> file:</p>
              <div class="code panel pdl" style="border-width: 1px;">
               <div class="codeContent panelContent pdl"> 
                <pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: text; gutter: false; theme: Confluence" data-theme="Confluence"># Indicates whether the (S)FTP Client communication point is allowed to add SSL certificates and SSH public keys to the
# Rhapsody certificate manager when it sees an FTPS/SFTP server for the first time. Once enabled here the option
# becomes available on each instance of the (S)FTP Client communication point. The available settings are: enabled
# or disabled.
FileTransferModule.allowAutoAddingCertificatesAndKeys=enabled</pre> 
               </div>
              </div>
             </div>
            </div>
           </div></td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup><span>† Default option.</span></sup></p>
      <h2 id="ConnectionDetails-SSLServerCertificates">SSL Server Certificates</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTPS.</li>
        </ul> 
       </div>
      </div>
      <p><strong>SSL Server Certificates</strong> selects the certificates used to authenticate the FTPS server. It is required if FTPS mode is enabled.</p>
      <p><span>The Server Certificates are selected from the certificates configured in the </span><a href="Managing-Certificates-and-Keys_133161222.html">Rhapsody IDE Certificate and Key Manager</a><span>.</span></p>
      <h2 id="ConnectionDetails-HostnameValidation">Hostname Validation</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTPS.</li>
        </ul> 
       </div>
      </div>
      <p><strong>Hostname Validation</strong> determines whether the SSL certificates presented by the FTPS server should be validated to ensure they are for the correct server.</p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td class="confluenceTd"><p><code>Enabled<sup>†</sup></code></p></td>
          <td class="confluenceTd">SSL certificates presented by the server should be validated to ensure they are for the correct server.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code><span><code>Disabled</code> </span></code></td>
          <td colspan="1" class="confluenceTd">SSL certificates presented by the FTPS server do not need to be validated to ensure they are for the correct server.</td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup>† Default option</sup></p>
      <h2 id="ConnectionDetails-CipherSuites">Cipher Suites</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><strong>Cipher Suites</strong> configures the level of security used for the <a href="133161183.html">SSL</a> or <a href="SSH-Algorithms_133162393.html">SSH </a>connection to an FTPS or SFTP server, respectively.</p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td class="confluenceTd"><p><code>Very Strong</code></p></td>
          <td class="confluenceTd">For FTPS, refer to <a href="133161183.html#TLS/SSLSupportinRhapsody-SSLCipherSuites"><span><span class="confluence-link">SSL Cipher Suites</span></span></a>. <br>For SFTP, refer to <span><a href="SSH-Algorithms_133162393.html#SSHAlgorithms-SSHCipherSuites">SSH Cipher Suites</a></span>.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code><span><code>FIPS</code> </span></code></td>
          <td colspan="1" class="confluenceTd">For FTPS, refer to <a href="133161183.html#TLS/SSLSupportinRhapsody-SSLCipherSuites"><span><span class="confluence-link">SSL Cipher Suites</span></span></a>. <br>For SFTP, refer to <span><a href="SSH-Algorithms_133162393.html#SSHAlgorithms-SSHCipherSuites">SSH Cipher Suites</a></span>.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code>Strong<sup>†</sup></code></td>
          <td colspan="1" class="confluenceTd">For FTPS, refer to <a href="133161183.html#TLS/SSLSupportinRhapsody-SSLCipherSuites"><span><span class="confluence-link">SSL Cipher Suites</span></span></a>. <br>For SFTP, refer to <span><a href="SSH-Algorithms_133162393.html#SSHAlgorithms-SSHCipherSuites">SSH Cipher Suites</a></span>.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code>Weak</code></td>
          <td colspan="1" class="confluenceTd">For FTPS, refer to <a href="133161183.html#TLS/SSLSupportinRhapsody-SSLCipherSuites"><span><span class="confluence-link">SSL Cipher Suites</span></span></a>. <br>For SFTP, refer to <span><a href="SSH-Algorithms_133162393.html#SSHAlgorithms-SSHCipherSuites">SSH Cipher Suites</a></span>.</td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup>† Default option.</sup></p>
      <h2 id="ConnectionDetails-SSLClientPrivateKey"><span>SSL Client Private Key</span></h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTPS.</li>
        </ul> 
       </div>
      </div>
      <p>The SSL private key is used for client authentication when connecting to an FTPS server.<span> The SSL private key is selected from the keys configured in the </span><a href="Managing-Certificates-and-Keys_133161222.html">Rhapsody IDE Certificate and Key Manager</a><span>.</span></p>
      <h2 id="ConnectionDetails-SFTPServerPublicKey">SFTP Server Public Key</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><span style="color: rgb(0,0,0);"><strong>SFTP Server Public Key</strong> holds a list of the SSH public keys used to authenticate the SFTP server. It is required when using SFTP so that the communication point can be certain that it is connecting to the correct server. Many SSH/SFTP servers actually have two public keys configured: one for RSA, and one for DSA. It is recommended that both these public keys are configured in the communication point so the connection can be validated regardless of which key the server ultimately chooses to present.</span></p>
      <p><span style="color: rgb(0,0,0);">If the SSH public key presented by the SFTP server does not match any of the keys in this list, then the connection is not established.<br></span></p>
      <p><span style="color: rgb(0,0,0);">The SSH Public Keys are selected from the keys configured in&nbsp;Rhapsody IDE's&nbsp;</span><a href="Managing-Certificates-and-Keys_133161222.html">Certificate and Key Manager</a><span style="color: rgb(0,0,0);">.</span></p>
      <h2 id="ConnectionDetails-SFTPClientAuthenticationMode">SFTP Client Authentication Mode</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><span style="color: rgb(0,0,0);"><strong>SFTP Client Authentication Mode </strong>configures what type of SSH client authentication is performed when connecting to an SFTP server. <br></span></p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <colgroup>
         <col>
         <col>
        </colgroup>
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Password Authentication</code><sup>†</sup></span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Password authentication is selected.<br></span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Public Key Authentication</code></span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">Public key authentication<span style="color: rgb(0,0,0);"> is <span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">selected</span>. An SSH private key must be configured for the connection.</span></span></span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Password and Public Key Authentication</code></span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">Both password and public key authentication</span> are <span style="color: rgb(0,0,0);">selected</span>. An SSH private key must be configured for the connection.</span></td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup>† Default option.</sup></p>
      <div class="confluence-information-macro confluence-information-macro-information">
       <span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        <span style="color: rgb(0,0,0);">It must be configured when using SFTP.</span>
       </div>
      </div>
      <h2 id="ConnectionDetails-SFTPClientPrivateKey">SFTP Client Private Key</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><span style="color: rgb(0,0,0);"><strong>SFTP Client Private Key</strong> selects the single SSH private key used for client authentication when one of the public key authentication modes is selected. It must be configured when public key authentication is enabled; it is not available otherwise. During client authentication, the client transmits the SSH public key associated with this private key to the SFTP server, along with proof that it is the holder of the private key. The SFTP server can then match the SSH public key against its configuration in order to authenticate the client. The private key itself is never transmitted to the server.</span></p>
      <p><span style="color: rgb(0,0,0);">The SSH Private Key is selected from the keys configured in the <span style="color: rgb(0,0,0);">Rhapsody IDE's&nbsp;</span><a href="Managing-Certificates-and-Keys_133161222.html">Certificate and Key Manager</a></span><span style="color: rgb(0,0,0);">.</span></p>
      <h2 id="ConnectionDetails-SFTPCompression">SFTP Compression</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><span style="color: rgb(0,0,0);">The SSH protocol is capable of negotiating a compression algorithm to use when a connection is established. <strong>SFTP Compression </strong>determines which compression algorithms the (S)FTP Client advertises its support for.<br></span></p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Allow no compression</code> </span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">No compression enabled.</span></span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Allow zlib compression</code> </span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">SSH compression algorithm </span></span></span>zlib enabled.<br></span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Allow zlib delayed compression</code> </span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">SSH compression algorithm </span></span></span>zlib@ssh.com </span></span>enabled. Unlike zlib, <span style="color: rgb(0,0,0);">the compression does not start until after authentication has completed. </span></td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup>All enabled by default. This means that selecting none of these options has the same effect as selecting all of these options.</sup></p>
      <p><span style="color: rgb(0,0,0);">Any of the enabled compression algorithms can be selected during the establishment of the SSH session. For example, if both no compression and zlib compression are enabled, it is acceptable for the server to select no compression. Thus, if you want to force compression, then you must disable the <code>Allow no compression</code> option.</span></p>
      <h2 id="ConnectionDetails-SFTPAdvancedConfigurationFlags">SFTP Advanced Configuration Flags</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><strong>SFTP Advanced Configuration Flags</strong><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);"> provides some controls to allow the (S)FTP Client Communication Point to successfully operate with some known bugs in various SFTP servers:</span></span></p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Disable chmod after creating a directory </code></span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">By default, the communication point issues a <code>chmod</code> command immediately after creating a remote directory in order to ensure that the correct permissions are set on the directory, particularly so that the communication point can subsequently issue a change directory command to move into that directory. This is not required for all SFTP servers, and in some cases it results in an error being raised by the server when the chmod command is sent. Enabling this option will prevent the automatic <code>chmod</code> command being sent after creating a new directory. This problem manifests itself as an error in the communication point while it is creating a directory.</span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Disable chmod after uploading a file </code></span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">The communication point issues a <code>chmod</code> command after uploading a file in order to ensure that the file has the correct permissions. Some SFTP servers do not expect this <code>chmod</code> command and instead report an error that the file does not exist. If this error is encountered then this option can be enabled to prevent the <code>chmod</code> command being sent after an upload.</span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><code>Disable wait for channel close </code></span></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);">By default, when closing a channel, the communication point waits for an acknowledgment from the SFTP server after sending the close request. This can cause a connection error to occur on some SFTP servers which do not send the expected acknowledgment. If this problem is encountered, this option can be enabled to prevent the communication point waiting for this acknowledgment when closing a channel.</span></td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><sup><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">None enabled by default.</span></span></sup></p>
      <h2 id="ConnectionDetails-ServerLineEndings">Server Line Endings</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: SFTP.</li>
         <li><strong>Transfer Mode</strong>: <span style="color: rgb(0,0,0);">ASCII</span>.</li>
        </ul> 
       </div>
      </div>
      <p><span style="color: rgb(0,0,0);">When using the ASCII transfer mode with an SFTP server, the communication point must be able to determine what line endings are expected by the remote server in order to perform the line endings translation. </span></p>
      <div class="table-wrap">
       <table class="wrapped confluenceTable">
        <tbody>
         <tr>
          <th class="confluenceTh">Property Option</th>
          <th class="confluenceTh">Description</th>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code><span style="color: rgb(0,0,0);">Auto Detect<sup>†</sup></span></code></td>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,0,0);"><span style="color: rgb(0,0,0);">By default, the communication point attempts to auto-detect the line endings in use by examining the reported server information when the connection is established (specifically it looks at the line endings on the server information string). </span></span></td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code>Windows (CR+LF)</code></td>
          <td colspan="1" class="confluenceTd">Explicit set Windows line endings.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><code>Unix (LF)</code></td>
          <td colspan="1" class="confluenceTd">Explicit set UNIX line endings.</td>
         </tr>
         <tr>
          <td colspan="1" class="confluenceTd"><span style="color: rgb(0,51,102);"><code>Mac (CR)</code></span></td>
          <td colspan="1" class="confluenceTd">Explicit set Mac OS line endings.</td>
         </tr>
        </tbody>
       </table>
      </div>
      <p><span style="color: rgb(0,51,102);"><sup>† Default option.</sup></span></p>
      <p><span style="color: rgb(0,0,0);">This option is not required for FTP or FTPS, because in this case the ASCII transfer mode is native and handled by the server itself.</span></p>
      <h2 id="ConnectionDetails-Username">Username</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTP, FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><span style="color: rgb(0,0,0);"><strong>Username</strong> sets the username/id of the user for authenticating with the FTP server.</span></p>
      <h2 id="ConnectionDetails-Password">Password</h2>
      <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
       <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
        <b>Applies to...</b>
       </div>
       <div class="panelContent" style="background-color: white;"> 
        <ul>
         <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
         <li><strong>Connection Type</strong>: FTP, FTPS, SFTP.</li>
        </ul> 
       </div>
      </div>
      <p><span style="color: rgb(0,51,102);"><strong>Password</strong> sets the password of the user for authenticating with the FTP server. The user account must have write access</span>.</p>
      <h2 id="ConnectionDetails-ConnectionEstablishmentMode">Connection Establishment Mode</h2>
      <div class="action-body flooded">
       <div class="panel" style="background-color: white;border-color: #1794AD;border-style: solid;border-width: 1px;">
        <div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #1794AD;background-color: #DFEFF9;">
         <b>Applies to...</b>
        </div>
        <div class="panelContent" style="background-color: white;"> 
         <ul>
          <li><strong>Operational Mode</strong>: Input, Output, Out-&gt;In.</li>
          <li><strong>Connection Type</strong>: FTP, FTPS, SFTP.</li>
         </ul> 
        </div>
       </div>
       <p><strong>Connection Establishment Mode</strong> determines whether to maintain a constant connection to the FTP server or to disconnect the connection immediately after it becomes idle. If the communication point is configured in dynamic mode, this value can be set using the message property <code>ConnectionEstablishmentMode</code> to one of the following values: <code>disconnectIfIdle</code> or <code>maintainConnection</code>.</p>
       <div class="table-wrap">
        <table class="wrapped confluenceTable">
         <colgroup>
          <col>
          <col>
         </colgroup>
         <tbody>
          <tr>
           <th class="confluenceTh">Property Option</th>
           <th class="confluenceTh">Description</th>
          </tr>
          <tr>
           <td colspan="1" class="confluenceTd"><code><span style="color: rgb(0,0,0);">Maintain constant connection<sup>†</sup></span></code></td>
           <td colspan="1" class="confluenceTd">Maintain constant connection to the FTP server after connection becomes idle.</td>
          </tr>
          <tr>
           <td colspan="1" class="confluenceTd"><code>Disconnect if idle</code></td>
           <td colspan="1" class="confluenceTd">Disconnect the connection immediately after it becomes idle. This would occur after Sending, Receiving and Throttling.</td>
          </tr>
         </tbody>
        </table>
       </div>
       <p> </p>
      </div> 
     </div> 
    </div> 
   </div>  
  </div>   
 </body>
</html>