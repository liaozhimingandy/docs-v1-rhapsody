<!doctype html>
<html>
 <head> 
  <title>SQL Editor</title> 
  <link rel="stylesheet" href="styles/site.css" type="text/css"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <link rel="stylesheet" href="styles/icons.css" type="text/css">
  <script src="js/jquery.min.js"></script>
  <script src="tree/collapsibleTreeMenu.js"></script>
  <link href="tree/collapsibleTreeMenu.css" rel="stylesheet" type="text/css">
 </head> 
 <body class="theme-default aui-theme-default"> 
  <div id="page"> 
   <div id="main" class="aui-page-panel"> 
    <div id="main-header"> 
     <div id="breadcrumb-section"> 
      <ol id="breadcrumbs">  
       <li> <span><a href="Rhapsody-Integration-Engine-6.5_133160975.html">Rhapsody Integration Engine 6.5</a></span> </li> 
       <li> <span><a href="Developing-Rhapsody_133161055.html">Developing Rhapsody</a></span> </li> 
       <li> <span><a href="Database-Configuration_133161571.html">Database Configuration</a></span> </li> 
      </ol> 
     </div> 
     <h1 id="title-heading" class="pagetitle"> <span id="title-text">SQL Editor</span> </h1> 
    </div> 
    <div id="content" class="view">  
     <div id="main-content" class="wiki-content group"> 
      <p>The <strong>SQL Editor</strong> is used to edit individual SQL statements that will be run in the database configuration.</p>
      <p>To open the <strong>SQL Editor</strong>, double-click on the statement you want to maintain from the<strong>&nbsp;Database Configuration Editor</strong>. Alternatively, select the statement and then click the <strong>Edit Statement</strong> icon <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133161690/133161692.png" data-image-src="attachments/133161690/133161692.png" data-unresolved-comment-count="0" data-linked-resource-id="133161692" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="window_edit24x24.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133161690" data-linked-resource-container-version="1"></span> from the Statement Toolbar. The <strong>SQL Editor</strong> is then displayed.</p>
      <p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133161690/133161693.png" data-image-src="attachments/133161690/133161693.png" data-unresolved-comment-count="0" data-linked-resource-id="133161693" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="sqlEditor.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133161690" data-linked-resource-container-version="1"></span></p>
      <p>The <strong>SQL Editor</strong> consists of the following key sections:</p>
      <div class="table-wrap">
       <table id="TBL1562637815140" class="confluenceTable" width="100%">
        <tbody>
         <tr>
          <th class="confluenceTh"><p>Section</p></th>
          <th class="confluenceTh"><p>Description</p></th>
         </tr>
         <tr>
          <td class="confluenceTd"><p>Statement</p></td>
          <td class="confluenceTd"><p>The name of the SQL Statement. Click the <strong>Rename</strong> link to display the <strong>Rename Statement</strong> screen, which enables you to enter a new name for the statement. By default, when the statement is created, the statement is assigned a name <code>New Statement</code>.</p></td>
         </tr>
         <tr>
          <td class="confluenceTd"><p>Comments</p></td>
          <td class="confluenceTd"><p>Enter any comments for this statement. Comments are shown on the <strong> Database Configuration Editor</strong> and enable users to quickly identify the purpose of the statement.</p></td>
         </tr>
         <tr>
          <td class="confluenceTd"><p>SQL Text Editor Pane</p></td>
          <td class="confluenceTd"><p>The SQL Text Editor is a color-coded text editor that supports SQL. It allows the SQL statements to be written, field paths to be easily inserted, and results from previous statements to be accessed. In addition, it allows SQL comments to be placed within the SQL code itself, making it easier to document the exact behavior of a particular query. Refer to <a href="SQL-Text-Editor_133161696.html">SQL Text Editor</a> for details.</p>
           <div class="confluence-information-macro confluence-information-macro-note">
            <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
            <div class="confluence-information-macro-body">
             <p class="p1">Database components can only process one result set from a <code>SELECT</code> query. Therefore you should provide one <code>SELECT</code> query per statement.</p>
            </div>
           </div></td>
         </tr>
         <tr>
          <td class="confluenceTd"><p>Result Substitution Panel</p></td>
          <td class="confluenceTd"><p>Once queries have been executed, the results can be inserted into either message properties, fields, or both. Result substitution is primarily used within a <a href="Database-Lookup-Filter_133161782.html">Database Lookup filter</a> and the <a href="Database_133162443.html">Database communication point</a> in <em>Out-&gt;In</em> mode, where a message is being updated with some values retrieved via one or more database queries. Refer to <a href="Result-Substitution_133161688.html">Result Substitution</a> for details.</p></td>
         </tr>
         <tr>
          <td class="confluenceTd"><p>Server Explorer</p></td>
          <td class="confluenceTd"><p>Displays the database tables, views, and stored procedures. This allows easy reference to the database.</p></td>
         </tr>
         <tr>
          <td class="confluenceTd"><p>Message Structure</p></td>
          <td class="confluenceTd"><p>Displays the messages structure. This allows easy reference to the message definition and enables you to drag and drop message properties into your query.</p></td>
         </tr>
        </tbody> 
        <script type="text/javascript">

$("table[id='TBL1562637815140']").data("appfire-table","true");
(new org_swift_TableSorter()).customTable('TBL1562637815140',[],'style=&quot;width:20%; text-align: left;&quot;',
1,'',true,
'Click to sort','',false,
false,false,false,
0,false,'',true,
'',false,false,'','100%','','',
true,'',
''
);

</script> 
       </table>
      </div>
      <h2 id="SQLEditor-sqlGenerationSQLGeneration"><span class="confluence-anchor-link" id="SQLEditor-sqlGeneration"></span>SQL Generation</h2>
      <p>While SQL statements may always be manually entered and edited, the <strong>Rhapsody Database Configuration Editor</strong> can automatically generate the basis of some commonly used queries. This is done by selecting a table in the Server Explorer, then clicking the <strong>Generate SQL</strong> button as shown in the following diagram:</p>
      <p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133161690/133161694.png" data-image-src="attachments/133161690/133161694.png" data-unresolved-comment-count="0" data-linked-resource-id="133161694" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="serverExplorerSqlGeneration.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133161690" data-linked-resource-container-version="1"></span></p>
      <p>This enables you to generate an SQL <code>SELECT</code>, <code>INSERT</code>, or <code>UPDATE</code> query from the database structure. The base query can then be modified as desired.</p>
      <p>Alternatively, you can automatically generate an SQL query, by right-clicking and dragging a database table from the server explorer onto the SQL text editor. A context menu is then displayed, which enables you to select the type of SQL query to be generated:</p>
      <p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133161690/133161691.png" data-image-src="attachments/133161690/133161691.png" data-unresolved-comment-count="0" data-linked-resource-id="133161691" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="sqlEditorSqlGeneration.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133161690" data-linked-resource-container-version="1"></span></p>
      <div class="confluence-information-macro confluence-information-macro-note">
       <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        <p>In Rhapsody, repeating&nbsp;SQL&nbsp;spaces are trimmed. The only exceptions are SQL strings with quotes, inside which spaces are not removed during parsing. <span style="background-color: transparent;"><span style="line-height: 13.0pt;">For example, the three spaces in the </span>quotes <span style="line-height: 13.0pt;">are preserved in the following query: </span></span><code>SELECT PatientID FROM patient WHERE SpecialField = 'Part1 &nbsp; Part2'</code>.</p>
       </div>
      </div>
      <p></p>
      <h2 id="SQLEditor-InsertingPriorResults">Inserting Prior Results</h2>
      <p>At times a statement should only be executed if a particular result was returned from a previous database query. The<strong> Database Configuration Editor</strong>&nbsp;provides the ability to insert results generated from previous queries to make it easier to access these values. These are accessed from the&nbsp;<strong>Insert Prior Result</strong>&nbsp;toolbar button:</p>
      <p><span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" src="attachments/133161741/133161744.png" data-image-src="attachments/133161741/133161744.png" data-unresolved-comment-count="0" data-linked-resource-id="133161744" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="conditionEditorInsertPriorResult.png" data-base-url="https://docs.rhapsody.health" data-linked-resource-content-type="image/png" data-linked-resource-container-id="133161741" data-linked-resource-container-version="15"></span></p>
      <p>Selecting a prior result automatically inserts the appropriate value (with the correct prefix depending on its type) at the current cursor location in the text editor. When the&nbsp;<strong>Condition Editor</strong>&nbsp;is opened, available prior results for all previous statements are located and added to the menu.</p>
      <div class="confluence-information-macro confluence-information-macro-note">
       <span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span>
       <div class="confluence-information-macro-body">
        <p>The only types of <span>available </span>prior results are: declared output parameters for stored procedure calls, and any columns whose values are saved using result substitution.</p>
       </div>
      </div>
      <br> 
      <p></p> 
     </div>  
    </div> 
   </div>  
  </div>   
 </body>
</html>